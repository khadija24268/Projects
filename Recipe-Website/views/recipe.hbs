<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <style>
        body {
            margin: 0;
            font-family: 'Caveat', cursive;
            font-size: 22px;
        }

        #recipeCarousel {
            width: 85vw;
            height: 60vh;
            overflow: hidden;
            margin: auto;
        }

        .carousel-inner {
            width: 100%;
            height: 100%;
        }

        .carousel-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .recipe-details {
            width: 80%;
            margin-top: 20px;
            text-align: center;
        }

        .ingredient-list,
        .instruction-list {
            list-style: none;
            padding: 0;
            text-align: center;
        }

        .ingredient-title,
        .instruction-title,
        .tags-title,
        .comments-title {
            font-weight: bold;
            text-decoration: underline;
        }

        /* Additional style to ensure the heading is visible */
        .recipe-details h1 {
            color: #000; /* Set the color to black or your desired color */
            margin-top: 20px; /* Adjust margin-top as needed */
        }

        .comment-list {
            list-style-type: none;
            padding: 0;
        }

        /* Custom style for submit comment button */
        .btn-submit-comment {
            background-color: #a86868; 
            border-color: #a86868;
        }
    </style>
</head>

<body class="container mt-5">
    <div id="recipeCarousel" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
            {{#each recipe.photos}}
            <li data-target="#recipeCarousel" data-slide-to="{{@index}}" {{#if @first}}class="active"{{/if}}></li>
            {{/each}}
        </ol>
        <div class="carousel-inner">
            {{#each recipe.photos}}
            <div class="carousel-item {{#if @first}}active{{/if}}">
                <img src="{{this.baseUrl}}/{{this.dataUrl}}" alt="Recipe Photo" class="d-block w-100">
            </div>
            {{/each}}
        </div>
        <a class="carousel-control-prev" href="#recipeCarousel" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#recipeCarousel" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
    <div class="container recipe-details">
        <h2 class="text-center">{{recipe.name}}</h2>
        <div>
            <p>{{recipe.description}}</p>
            <p class="ingredient-title">Ingredients:</p>
            <ul class="ingredient-list">
                {{#each recipe.ingredients}}
                <li>{{this.name}} - {{this.quantity}} {{this.unit}}</li>
                {{/each}}
            </ul>
            <p class="instruction-title">Instructions:</p>
            <ol class="instruction-list">
                {{#each recipe.instructions}}
                <li>{{this.stepNumber}}. {{this.description}}</li>
                {{/each}}
            </ol>
            <p class="tags-title">Tags:</p>
            <p>{{recipe.tags}}</p>
        </div>
        <h3 class="comments-title">Comments:</h3>
        <ul class="comment-list">
            {{#each recipe.comments}}
            <li>"{{this}}"</li>
            {{/each}}
        </ul>
        <form action="/recipe/{{recipe.name}}/comment" method="post">
            <div class="form-group">
                <label for="commentText">Add a Comment:</label>
                <textarea class="form-control" id="commentText" name="commentText" rows="3" required></textarea>
            </div>
            <button type="submit" class="btn btn-primary btn-submit-comment">Submit Comment</button>
        </form>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</body>

</html>
